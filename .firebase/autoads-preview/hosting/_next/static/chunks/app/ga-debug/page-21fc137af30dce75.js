(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2365],{3633:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var n=t(54568),o=t(7620),l=t(8039);function r(){let[e,s]=(0,o.useState)({}),[t,r]=(0,o.useState)([]),[a,i]=(0,o.useState)([]);return(0,o.useEffect)(()=>{let e=console.log,t=console.error,n=console.warn,o=[],a=function(e){for(var s,t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];o.push({type:e,timestamp:new Date().toISOString(),args:null==n||null==(s=n.filter(Boolean))?void 0:s.map(e=>"object"==typeof e?JSON.stringify(e):String(e))}),i([...o])};console.log=function(){for(var s=arguments.length,t=Array(s),n=0;n<s;n++)t[n]=arguments[n];a("log",...t),e.apply(console,t)},console.error=function(){for(var e=arguments.length,s=Array(e),n=0;n<e;n++)s[n]=arguments[n];a("error",...s),t.apply(console,s)},console.warn=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];a("warn",...s),n.apply(console,s)};let c=window.fetch;window.fetch=async function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];let n=s[0],o="string"==typeof n?n:n instanceof URL?n.href:n.url;if(o.includes("googletagmanager.com")||o.includes("google-analytics.com")){let e=Date.now();try{let t=await c(...s),l=Date.now();return r(s=>[...s,{url:o,method:"string"==typeof n?"GET":n.method||"GET",status:t.status,duration:l-e,timestamp:new Date().toISOString(),success:t.ok}]),t}catch(t){let s=Date.now();throw r(l=>[...l,{url:o,method:"string"==typeof n?"GET":n.method||"GET",status:0,duration:s-e,timestamp:new Date().toISOString(),success:!1,error:t instanceof Error?t.message:String(t)}]),t}}return c(...s)};let d=()=>{var e,t,n,o;s({timestamp:new Date().toISOString(),url:window.location.href,userAgent:navigator.userAgent,nodeEnv:"production",runtimeConfig:window.__RUNTIME_CONFIG__,gaId:null==(e=window.__RUNTIME_CONFIG__)?void 0:e.GA_ID,hasGtag:void 0!==window.gtag,hasDataLayer:void 0!==window.dataLayer,dataLayerLength:(null==(t=window.dataLayer)?void 0:t.length)||0,scripts:null==(o=Array.from(document.querySelectorAll("script")))||null==(n=o.filter(Boolean))?void 0:n.map(e=>({src:e.src,id:e.id,innerHTML:e.innerHTML?e.innerHTML.substring(0,100)+"...":""})).filter(e=>e.src.includes("google")||e.id.includes("google")),gaCookies:document.cookie.split(";").filter(e=>e.trim().startsWith("_ga")||e.trim().startsWith("_gid")),configApiStatus:"unknown"}),l.L.getCached("/config",void 0,6e4,!1).then(e=>{s(s=>({...s,configApiResponse:e,configApiStatus:"success"}))}).catch(e=>{s(s=>({...s,configApiError:(null==e?void 0:e.message)||String(e),configApiStatus:"error"}))})};d();let g=setInterval(d,2e3);return window.testGA=()=>{if(void 0!==window.gtag){var e;(null==(e=window.__RUNTIME_CONFIG__)?void 0:e.GA_ID)&&(console.log("\uD83E\uDDEA Testing GA event..."),window.gtag("event","test_event",{event_category:"Debug",event_label:"Manual Test",value:1}),console.log("✅ Test event sent"))}else console.error("❌ gtag not available for testing")},()=>{clearInterval(g),console.log=e,console.error=t,console.warn=n,window.fetch=c}},[]),(0,n.jsx)("div",{className:"min-h-screen bg-gray-50 p-4",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto space-y-6",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-center",children:"Google Analytics Deep Debug"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Debug Information"}),(0,n.jsx)("pre",{className:"text-xs bg-gray-100 p-4 rounded overflow-auto max-h-96",children:JSON.stringify(e,null,2)})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Console Messages"}),(0,n.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:a.map((e,s)=>(0,n.jsxs)("div",{className:"text-xs p-2 rounded ".concat("error"===e.type?"bg-red-100 text-red-800":"warn"===e.type?"bg-yellow-100 text-yellow-800":"bg-gray-100"),children:[(0,n.jsx)("span",{className:"text-gray-500",children:e.timestamp}),(0,n.jsx)("span",{className:"ml-2",children:e.args.join(" ")})]},s))})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Network Requests"}),(0,n.jsxs)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[t.map((e,s)=>(0,n.jsxs)("div",{className:"text-xs p-2 rounded ".concat(e.success?"bg-green-100":"bg-red-100"),children:[(0,n.jsxs)("div",{className:"font-mono",children:[e.method," ",e.url]}),(0,n.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,n.jsxs)("span",{children:["Status: ",e.status]}),(0,n.jsxs)("span",{children:[e.duration,"ms"]})]}),e.error&&(0,n.jsxs)("div",{className:"text-red-600 mt-1",children:["Error: ",e.error]})]},s)),0===t.length&&(0,n.jsx)("div",{className:"text-gray-500 text-center py-4",children:"No Google Analytics requests detected"})]})]}),(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Test Actions"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsx)("button",{onClick:()=>window.location.reload(),className:"w-full bg-blue-500 text-white py-2 px-4 rounded hover:bg-blue-600 transition",children:"Reload Page"}),(0,n.jsx)("button",{onClick:()=>{var e,s;return null==(e=(s=window).testGA)?void 0:e.call(s)},className:"w-full bg-green-500 text-white py-2 px-4 rounded hover:bg-green-600 transition",children:"Send Test Event"}),(0,n.jsx)("button",{onClick:()=>{var e;let s=null==(e=window.__RUNTIME_CONFIG__)?void 0:e.GA_ID;s&&window.open("https://analytics.google.com/analytics/web/#/p".concat(s.replace("G-",""),"/"),"_blank")},className:"w-full bg-purple-500 text-white py-2 px-4 rounded hover:bg-purple-600 transition",children:"Open Google Analytics"}),(0,n.jsxs)("div",{className:"mt-4 p-4 bg-yellow-50 rounded",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Checklist:"}),(0,n.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,n.jsx)("li",{children:"✓ GA_ID is set correctly"}),(0,n.jsx)("li",{children:"✓ Runtime config is loaded"}),(0,n.jsx)("li",{children:"✓ gtag.js script is loading"}),(0,n.jsx)("li",{children:"✓ No browser errors"}),(0,n.jsx)("li",{children:"✓ Events are being sent"}),(0,n.jsx)("li",{children:"\uD83E\uDD14 Data appears in GA console"})]})]})]})]})]})]})})}},81204:(e,s,t)=>{Promise.resolve().then(t.bind(t,3633))}},e=>{var s=s=>e(e.s=s);e.O(0,[2076,4121,7358],()=>s(81204)),_N_E=e.O()}]);
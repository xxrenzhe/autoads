(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7835],{56763:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var i=t(54568);t(7620);var l=t(41196),d=t(58482),a=t(73297);function r(){var e,s,t,r,n;let{data:c,isLoading:o}=(0,a.I)({queryKey:["admin","siterank","cache-insights"],queryFn:async()=>{let e=await fetch("/go/api/v1/siterank/cache-insights",{cache:"no-store",headers:{Accept:"application/json"}});if(!e.ok)throw Error("failed");return await e.json()},refetchInterval:6e4}),x="number"==typeof(null==c?void 0:c.estimatedHitRate)?"".concat(Math.round(100*c.estimatedHitRate),"%"):"-";return(0,i.jsx)(l.OZ,{title:"SiteRank 缓存洞察",description:"命中率估算与TTL建议",children:(0,i.jsx)("div",{className:"".concat(d.B8.cards.simple," p-6"),children:o?(0,i.jsx)("div",{className:"text-gray-500",children:"加载中..."}):(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"rounded border bg-white p-4",children:[(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"总记录"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:null!=(e=null==c?void 0:c.totalRows)?e:"-"})]}),(0,i.jsxs)("div",{className:"rounded border bg-white p-4",children:[(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"总请求"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:null!=(s=null==c?void 0:c.totalRequests)?s:"-"})]}),(0,i.jsxs)("div",{className:"rounded border bg-white p-4",children:[(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"活跃缓存条目"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:null!=(t=null==c?void 0:c.activeCacheRows)?t:"-"})]}),(0,i.jsxs)("div",{className:"rounded border bg-white p-4",children:[(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"7天失败"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:null!=(r=null==c?void 0:c.failed7d)?r:"-"})]}),(0,i.jsxs)("div",{className:"rounded border bg-white p-4",children:[(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"估算命中率"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:x})]}),(0,i.jsxs)("div",{className:"rounded border bg-white p-4",children:[(0,i.jsx)("div",{className:"text-xs text-gray-500",children:"TTL建议（小时）"}),(0,i.jsx)("div",{className:"text-xl font-semibold",children:null!=(n=null==c?void 0:c.suggestedTTLHours)?n:"-"})]})]})})})}},76348:(e,s,t)=>{Promise.resolve().then(t.bind(t,56763))}},e=>{var s=s=>e(e.s=s);e.O(0,[2076,4121,7358],()=>s(76348)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7522],{9015:(e,s,a)=>{Promise.resolve().then(a.bind(a,84104))},84104:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>j});var l=a(54568),n=a(89223),i=a(47359),t=a(66253),r=a(13967),c=a(63353),d=a(47227);function o(e){let{className:s=""}=e;return(0,l.jsx)("div",{className:"animate-pulse rounded-md bg-gray-200 dark:bg-gray-700 "+s,"aria-busy":"true","aria-live":"polite","aria-label":"Loading"})}a(7620);let x=e=>fetch(e).then(e=>e.json());function u(){let{data:e,error:s,isLoading:a}=(0,i.Ay)("/api/billing/subscription",x);return a?(0,l.jsx)(o,{className:"h-48 w-full"}):s?(0,l.jsx)("div",{children:"Failed to load subscription."}):(0,l.jsxs)(c.Zp,{children:[(0,l.jsxs)(c.aR,{children:[(0,l.jsx)(c.ZB,{children:"My Subscription"}),(0,l.jsx)(c.BT,{children:"Your current plan and status."})]}),(0,l.jsxs)(c.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"Plan"}),(0,l.jsx)("span",{className:"font-semibold",children:e.planName})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"Status"}),(0,l.jsx)("span",{className:"font-semibold capitalize",children:e.status})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{className:"text-muted-foreground",children:"Renews on"}),(0,l.jsx)("span",{className:"font-semibold",children:new Date(e.currentPeriodEnd).toLocaleDateString()})]}),(0,l.jsx)(d.$,{className:"w-full",children:"Contact Support to Upgrade"})]})]})}function h(){let{data:e,error:s,isLoading:a}=(0,i.Ay)("/api/billing/token",x);return a?(0,l.jsx)(o,{className:"h-48 w-full"}):s?(0,l.jsx)("div",{children:"Failed to load token balance."}):(0,l.jsxs)(c.Zp,{children:[(0,l.jsxs)(c.aR,{children:[(0,l.jsx)(c.ZB,{children:"My Tokens"}),(0,l.jsx)(c.BT,{children:"Your available token balance."})]}),(0,l.jsxs)(c.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-4xl font-bold",children:e.balance}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"Tokens available"})]}),(0,l.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:["Last updated: ",new Date(e.updatedAt).toLocaleString()]}),(0,l.jsx)(d.$,{className:"w-full",children:"Purchase More Tokens"})]})]})}function j(){let{data:e,status:s}=(0,n.useSession)();return"loading"===s?(0,l.jsx)("div",{children:"Loading..."}):"unauthenticated"===s?(0,l.jsx)("div",{children:"Please sign in to view your billing information."}):(0,l.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,l.jsx)(t.A,{}),(0,l.jsxs)("main",{className:"flex-grow container py-8",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Billing Center"}),(0,l.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,l.jsx)(u,{}),(0,l.jsx)(h,{})]})]}),(0,l.jsx)(r.A,{})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2076,4121,7358],()=>s(9015)),_N_E=e.O()}]);
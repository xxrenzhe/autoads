(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[73],{20689:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var l=t(54568),a=t(7620);function c(){let[e,s]=(0,a.useState)("http"),[t,c]=(0,a.useState)([]),n=e=>{let s=new Date().toLocaleTimeString();c(t=>[...t,"[".concat(s,"] ").concat(e)]),console.log("[Debug] ".concat(e))},r=e=>{n("用户选择访问模式: ".concat(e)),s(e)};return(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"AccessMode 调试页面"}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"访问模式选择"}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsx)("button",{className:"px-4 py-2 border rounded-lg text-sm font-medium transition-colors ".concat("http"===e?"bg-blue-50 border-blue-500 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),onClick:()=>r("http"),children:"HTTP 访问"}),(0,l.jsx)("button",{className:"px-4 py-2 border rounded-lg text-sm font-medium transition-colors ".concat("puppeteer"===e?"bg-purple-50 border-purple-500 text-purple-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"),onClick:()=>r("puppeteer"),children:"Puppeteer 访问"})]}),(0,l.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["当前选择的访问模式: ",(0,l.jsx)("span",{className:"font-mono",children:e})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"操作"}),(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsx)("button",{onClick:()=>{n("准备发送请求 - 当前 accessMode: ".concat(e));let s={taskId:"debug_".concat(Date.now()),urls:["https://example.com"],cycleCount:5,accessMode:e};n("发送到后端的数据: ".concat(JSON.stringify(s,null,2))),fetch("/api/batchopen/silent-start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(e=>e.json()).then(e=>{n("后端响应: ".concat(JSON.stringify(e,null,2)))}).catch(e=>{n("请求失败: ".concat(e.message))})},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600",children:"模拟发送请求"}),(0,l.jsx)("button",{onClick:()=>{c([])},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600",children:"清空日志"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,l.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"调试日志"}),(0,l.jsx)("div",{className:"bg-gray-900 text-green-400 p-4 rounded font-mono text-sm h-96 overflow-y-auto",children:0===t.length?(0,l.jsx)("p",{className:"text-gray-500",children:"暂无日志"}):t.map((e,s)=>(0,l.jsx)("div",{className:"mb-1",children:e},s))})]}),(0,l.jsxs)("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[(0,l.jsx)("h3",{className:"font-semibold text-yellow-800 mb-2",children:"使用说明"}),(0,l.jsxs)("ol",{className:"list-decimal list-inside text-sm text-yellow-700 space-y-1",children:[(0,l.jsx)("li",{children:"选择访问模式（HTTP 或 Puppeteer）"}),(0,l.jsx)("li",{children:'点击"模拟发送请求"按钮'}),(0,l.jsx)("li",{children:"查看日志输出，确认 accessMode 是否正确传递"}),(0,l.jsx)("li",{children:"同时打开浏览器控制台查看更多日志"})]})]})]})})}},66090:(e,s,t)=>{Promise.resolve().then(t.bind(t,20689))}},e=>{var s=s=>e(e.s=s);e.O(0,[2076,4121,7358],()=>s(66090)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7143],{25308:(e,t,s)=>{Promise.resolve().then(s.bind(s,58719))},58719:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(54568),l=s(7620),r=s(47227),n=s(25980),o=s(93109);async function c(){let e=await fetch("/api/workflows/templates",{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error((await e.json().catch(()=>({message:"Failed to fetch workflow templates"}))).message||"An unknown error occurred");return e.json()}async function i(e){let t=await fetch("/api/workflows",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({templateId:e})});if(!t.ok)throw Error((await t.json().catch(()=>({message:"Failed to start workflow"}))).message||"An unknown error occurred");return t.json()}function d(){let[e,t]=(0,l.useState)([]),[s,d]=(0,l.useState)(!0),[m,f]=(0,l.useState)(null),[w,h]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{try{d(!0),f(null);let e=await c();t(e)}catch(e){f(e.message||"Failed to load workflow templates.")}finally{d(!1)}})()},[]);let u=async e=>{h(e);try{let t=await i(e);alert('Successfully started workflow: "'.concat(t.templateId,'"! Your new workflow ID is ').concat(t.id,"."))}catch(e){alert("Error starting workflow: ".concat(e.message))}finally{h(null)}};return(0,a.jsxs)("div",{className:"container mx-auto py-8",children:[(0,a.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Workflow Templates"})}),s?(0,a.jsxs)("div",{className:"flex justify-center items-center py-20",children:[(0,a.jsx)(n.A,{className:"h-8 w-8 animate-spin text-muted-foreground"}),(0,a.jsx)("p",{className:"ml-2",children:"Loading Templates..."})]}):m?(0,a.jsx)("p",{className:"text-red-500 text-center py-20",children:m}):0===e.length?(0,a.jsx)("p",{className:"text-center text-muted-foreground py-20",children:"No workflow templates are available at the moment."}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-card border rounded-lg shadow-sm flex flex-col p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold mb-2",children:e.name}),(0,a.jsx)("p",{className:"text-muted-foreground flex-grow mb-4",children:e.description}),(0,a.jsxs)(r.$,{onClick:()=>u(e.id),disabled:w===e.id,children:[w===e.id?(0,a.jsx)(n.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4"}),w===e.id?"Starting...":"Start Workflow"]})]},e.id))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2076,4121,7358],()=>t(25308)),_N_E=e.O()}]);
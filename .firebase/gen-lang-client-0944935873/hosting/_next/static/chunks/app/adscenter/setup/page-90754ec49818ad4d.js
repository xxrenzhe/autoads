(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2260],{27623:(e,s,a)=>{Promise.resolve().then(a.bind(a,67009))},67009:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>_});var t=a(54568),l=a(7620),n=a(49642),r=a.n(n),i=a(51874),c=a(47227),d=a(18529),o=a(80035),m=a(39756),x=a(29179),u=a(4376);(0,l.memo)(e=>{let{setupSteps:s,completedSteps:a,totalRequiredSteps:l,completedRequiredSteps:n,progressPercentage:r}=e;return(0,t.jsxs)("div",{className:"p-4 space-y-4",role:"region","aria-labelledby":"progress-overview-title",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{id:"progress-overview-title",className:"text-lg font-semibold text-gray-900",children:["配置进度 ",r,"%"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["已完成 ",n," / ",l," 个必需步骤"]})]})}),(0,t.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"配置进度 ".concat(r,"%"),children:(0,t.jsx)("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-500 ease-out",style:{width:"".concat(r,"%")}})})]})}).displayName="ConfigurationProgress";var h=a(63353),p=a(64148);let j=(0,l.memo)(e=>{let{setupSteps:s,currentStep:a,onStepClick:l}=e,n=(e,s)=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),l(s))};return(0,t.jsxs)("div",{className:"relative mb-8",role:"navigation","aria-label":"配置步骤导航",children:[(0,t.jsx)("div",{className:"absolute top-5 left-0 right-0 h-0.5 bg-gray-200","aria-hidden":"true",children:(0,t.jsx)("div",{className:"h-0.5 bg-blue-500 transition-all duration-300",style:{width:"".concat(a/(s.length-1)*100,"%")}})}),(0,t.jsx)("div",{className:"relative flex justify-between",children:s.map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("button",{type:"button",onClick:()=>l(s),onKeyDown:e=>n(e,s),className:"flex items-center justify-center w-10 h-10 rounded-full border-2 transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ".concat(s===a?"border-blue-500 bg-blue-500 text-white shadow-lg transform scale-110":"completed"===e.status?"border-green-500 bg-green-500 text-white hover:bg-green-600":s<a?"border-green-500 bg-green-50 text-green-600 hover:bg-green-100":"border-gray-300 bg-white text-gray-400 hover:border-gray-400"),"aria-label":"前往步骤 ".concat(s+1,": ").concat(e.title),"aria-current":s===a?"step":void 0,tabIndex:0,children:"completed"===e.status?(0,t.jsx)(d.A,{className:"h-5 w-5","aria-hidden":"true"}):(0,t.jsx)("span",{className:"text-sm font-semibold",children:s+1})}),(0,t.jsxs)("div",{className:"mt-3 text-center max-w-[140px] ".concat(s===a?"text-blue-600 font-medium":"completed"===e.status?"text-green-600 font-medium":"text-gray-500"),children:[(0,t.jsx)("div",{className:"text-sm font-medium leading-tight",children:e.title}),e.required&&(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"必需"})]})]},e.id))})]})});j.displayName="SetupProgressIndicator";let g=(0,l.memo)(e=>{let{setupSteps:s,currentStep:a,onStepClick:l}=e;return(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsxs)(h.ZB,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"配置进度"}),(0,t.jsxs)(p.E,{variant:"outline",className:"text-sm",children:[a+1," / ",s.length]})]})}),(0,t.jsx)(h.Wu,{children:(0,t.jsx)(j,{setupSteps:s,currentStep:a,onStepClick:l})})]})});g.displayName="CurrentStepDisplay";var v=a(6541),f=a(15051);let N=(0,l.memo)(e=>{let{setupSteps:s,currentStep:a,googleAdsAccounts:l,affiliateLinks:n,adsPowerEnvironments:r,configurations:i}=e;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsx)(h.ZB,{children:"配置摘要"})}),(0,t.jsxs)(h.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"Google Ads账号"}),(0,t.jsx)(p.E,{variant:l.length>0?"default":"secondary",children:l.length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"广告联盟链接"}),(0,t.jsx)(p.E,{variant:n.length>0?"default":"secondary",children:n.length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"AdsPower环境"}),(0,t.jsx)(p.E,{variant:r.length>0?"default":"secondary",children:r.length})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"执行配置"}),(0,t.jsx)(p.E,{variant:i.length>0?"default":"secondary",children:i.length})]})]})]}),(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsx)(h.ZB,{children:"快速操作"})}),(0,t.jsxs)(h.Wu,{className:"space-y-2",children:[(0,t.jsxs)(c.$,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>window.location.href="/adscenter/executions",children:[(0,t.jsx)(v.A,{className:"h-4 w-4 mr-2"}),"查看执行记录"]}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>window.location.href="/adscenter/reports",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"查看数据报表"]}),(0,t.jsxs)(c.$,{variant:"outline",size:"sm",className:"w-full justify-start",onClick:()=>window.location.href="/adscenter",children:[(0,t.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"高级设置"]})]})]})]})});N.displayName="SetupSidebar";let b=(0,l.memo)(e=>{let{isOpen:s,onClose:a}=e;return s?(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold",children:"键盘快捷键"}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",onClick:a,"aria-label":"关闭帮助",children:"\xd7"})]}),(0,t.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"上一步"}),(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Alt + ←"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"下一步"}),(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Alt + →"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"跳转到步骤 1-6"}),(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"1-6"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"第一步"}),(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Home"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"最后一步"}),(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"End"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"上一步 (按钮)"}),(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Alt + P"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"下一步 (按钮)"}),(0,t.jsx)("kbd",{className:"px-2 py-1 bg-gray-100 rounded text-xs",children:"Alt + N"})]})]}),(0,t.jsx)("div",{className:"mt-6 pt-4 border-t",children:(0,t.jsx)(c.$,{onClick:a,className:"w-full",children:"知道了"})})]})}):null});b.displayName="KeyboardHelpModal";var y=a(45831),w=a(61152);let k=(0,l.memo)(e=>{let{currentStep:s,totalSteps:a,onPrev:l,onNext:n}=e;return(0,t.jsxs)("div",{className:"flex justify-between",role:"navigation","aria-label":"页面导航",children:[(0,t.jsxs)(c.$,{variant:"outline",onClick:l,disabled:0===s,className:"flex items-center","aria-label":"上一步",accessKey:"p",title:"快捷键: Alt + P",children:[(0,t.jsx)(y.A,{className:"h-4 w-4 mr-2","aria-hidden":"true"}),"上一步"]}),(0,t.jsxs)(c.$,{onClick:n,disabled:s===a-1,className:"flex items-center","aria-label":"下一步",accessKey:"n",title:"快捷键: Alt + N",children:["下一步",(0,t.jsx)(w.A,{className:"h-4 w-4 ml-2","aria-hidden":"true"})]})]})});k.displayName="StepNavigation";var A=a(78058),C=a(30069);let I=(0,l.memo)(e=>{var s;let{accounts:a,newAccount:n,loading:r,onAccountChange:i,onAddAccount:d,onTestConnection:o}=e,m=(0,l.useCallback)((e,s)=>{i({...n,[e]:s})},[n,i]);return(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsxs)(h.ZB,{className:"flex items-center",children:[(0,t.jsx)(A.A,{className:"h-5 w-5 mr-2"}),"Google Ads账号配置"]})}),(0,t.jsxs)(h.Wu,{className:"space-y-6",children:[a.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"已配置的账号"}),(0,t.jsx)("div",{className:"space-y-2",children:null==a||null==(s=a.filter(Boolean))?void 0:s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["Customer ID: ",e.customerId]}),e.loginCustomerId&&(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Login Customer ID: ",e.loginCustomerId.split("\n").filter(e=>e.trim()).join(", ")]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.E,{variant:"connected"===e.status?"default":"secondary",children:"connected"===e.status?"已连接":"未连接"}),(0,t.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>o(e.id),disabled:r,children:[(0,t.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"测试"]})]})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"添加新的Google Ads账号"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["账号名称（Account Name）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"自定义的Google Ads账号标识名称"})]}),(0,t.jsx)("input",{type:"text",value:n.name||"",onChange:e=>m("name",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"我的Google Ads账号"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["登录客户ID（Login Customer ID）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"MCC账户ID，格式：123-456-7890"})]}),(0,t.jsx)("input",{type:"text",value:n.loginCustomerId||"",onChange:e=>m("loginCustomerId",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"123-456-7890"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["客户端ID（Client ID）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"OAuth 2.0客户端ID"})]}),(0,t.jsx)("input",{type:"text",value:n.clientId||"",onChange:e=>m("clientId",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"123456789-abc123def456.apps.googleusercontent.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["客户端密钥（Client Secret）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"OAuth 2.0客户端密钥"})]}),(0,t.jsx)("input",{type:"password",value:n.clientSecret||"",onChange:e=>m("clientSecret",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"请输入Client Secret"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["开发者令牌（Developer Token）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Google Ads API开发者访问令牌"})]}),(0,t.jsx)("input",{type:"text",value:n.developerToken||"",onChange:e=>m("developerToken",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"ABcdeFG1234567"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["刷新令牌（Refresh Token）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"用于API访问的长期凭证（可选）"})]}),(0,t.jsx)("input",{type:"password",value:n.refreshToken||"",onChange:e=>m("refreshToken",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"请输入Refresh Token（可选）"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["客户ID列表（Customer IDs）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"要管理的客户账户ID，每行一个"})]}),(0,t.jsx)("textarea",{value:n.customerId||"",onChange:e=>m("customerId",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"123-456-7890 234-567-8901 345-678-9012",rows:3})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(c.$,{onClick:d,disabled:r,className:"flex items-center",children:[(0,t.jsx)(A.A,{className:"h-4 w-4 mr-2"}),r?"添加中...":"添加账号"]})})]})]})]})});I.displayName="GoogleAdsStep";var S=a(59264);let R=(0,l.memo)(e=>{var s;let{links:a,newLink:n,loading:r,onLinkChange:i,onAddLink:d,onTestLink:o}=e,m=(0,l.useCallback)((e,s)=>{i({...n,[e]:s})},[n,i]);return(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsxs)(h.ZB,{className:"flex items-center",children:[(0,t.jsx)(S.A,{className:"h-5 w-5 mr-2"}),"广告联盟链接配置"]})}),(0,t.jsxs)(h.Wu,{className:"space-y-6",children:[a.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"已配置的链接"}),(0,t.jsx)("div",{className:"space-y-2",children:null==a||null==(s=a.filter(Boolean))?void 0:s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-600 truncate max-w-md",children:e.affiliateUrl})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.E,{variant:"valid"===e.status?"default":"secondary",children:"valid"===e.status?"有效":"invalid"===e.status?"无效":"未测试"}),(0,t.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>o(e.id),disabled:r,children:[(0,t.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"测试"]})]})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"添加新的广告联盟链接"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["链接名称（Link Name）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"自定义的广告联盟链接标识名称"})]}),(0,t.jsx)("input",{type:"text",value:n.name||"",onChange:e=>m("name",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"Home Depot 联盟链接"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["链接分类（Category）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"选择链接所属的业务类别"})]}),(0,t.jsxs)("select",{value:n.category||"",onChange:e=>m("category",e.target.value),className:"w-full px-3 py-2 border rounded-md",children:[(0,t.jsx)("option",{value:"",children:"选择分类"}),(0,t.jsx)("option",{value:"retail",children:"零售电商"}),(0,t.jsx)("option",{value:"travel",children:"旅游出行"}),(0,t.jsx)("option",{value:"finance",children:"金融服务"}),(0,t.jsx)("option",{value:"education",children:"教育培训"}),(0,t.jsx)("option",{value:"other",children:"其他"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["联盟链接URL（Affiliate URL）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"完整的广告联盟跳转链接地址"})]}),(0,t.jsx)("input",{type:"url",value:n.affiliateUrl||"",onChange:e=>m("affiliateUrl",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"https://yeahpromos.com/click?id=..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["链接描述（Description）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"链接的详细说明和使用场景"})]}),(0,t.jsx)("textarea",{value:n.description||"",onChange:e=>m("description",e.target.value),className:"w-full px-3 py-2 border rounded-md",rows:3,placeholder:"链接描述和用途说明"})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(c.$,{onClick:d,disabled:r,className:"flex items-center",children:[(0,t.jsx)(S.A,{className:"h-4 w-4 mr-2"}),r?"添加中...":"添加链接"]})})]})]})]})});R.displayName="AffiliateLinksStep";var E=a(75701);let L=(0,l.memo)(e=>{var s;let{environments:a,newEnvironment:n,loading:r,onEnvironmentChange:i,onAddEnvironment:d,onTestConnection:o}=e,m=(0,l.useCallback)((e,s)=>{i({...n,[e]:s})},[n,i]);return(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsxs)(h.ZB,{className:"flex items-center",children:[(0,t.jsx)(E.A,{className:"h-5 w-5 mr-2"}),"AdsPower环境配置"]})}),(0,t.jsxs)(h.Wu,{className:"space-y-6",children:[a.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"已配置的环境"}),(0,t.jsx)("div",{className:"space-y-2",children:null==a||null==(s=a.filter(Boolean))?void 0:s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["环境ID: ",e.environmentId]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(p.E,{variant:"connected"===e.status?"default":"secondary",children:"connected"===e.status?"已连接":"未连接"}),(0,t.jsxs)(c.$,{size:"sm",variant:"outline",onClick:()=>o(e.id),disabled:r,children:[(0,t.jsx)(C.A,{className:"h-4 w-4 mr-1"}),"测试"]})]})]},e.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"添加新的AdsPower环境"}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["环境名称（Environment Name）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"自定义的AdsPower浏览器环境标识"})]}),(0,t.jsx)("input",{type:"text",value:n.name||"",onChange:e=>m("name",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"主要浏览器环境"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["环境ID（Environment ID）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"AdsPower分配的唯一环境标识符"})]}),(0,t.jsx)("input",{type:"text",value:n.environmentId||"",onChange:e=>m("environmentId",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"j1nqjy0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["API端点（API Endpoint）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"AdsPower API服务地址"})]}),(0,t.jsx)("input",{type:"text",value:n.apiEndpoint||"",onChange:e=>m("apiEndpoint",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"http://local.adspower.net:50325"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["API密钥（API Key）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"API访问认证密钥（可选）"})]}),(0,t.jsx)("input",{type:"password",value:n.apiKey||"",onChange:e=>m("apiKey",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"可选，如果需要认证"})]})]})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(c.$,{onClick:d,disabled:r,className:"flex items-center",children:[(0,t.jsx)(E.A,{className:"h-4 w-4 mr-2"}),r?"添加中...":"添加环境"]})})]})]})]})});L.displayName="AdsPowerStep";let D=(0,l.memo)(e=>{var s,a,n,r;let{configurations:i,newConfiguration:d,loading:o,googleAdsAccounts:m,affiliateLinks:x,adsPowerEnvironments:u,onConfigurationChange:j,onCreateConfiguration:g}=e,v=(0,l.useCallback)((e,s)=>{j({...d,[e]:s})},[d,j]),N=(0,l.useCallback)((e,s)=>{let a=d.originalLinks||[];s?v("originalLinks",[...a,e]):v("originalLinks",a.filter(s=>s!==e))},[d.originalLinks,v]),b=(0,l.useCallback)((e,s,a)=>{let t=d.googleAdsAccounts||[];a?v("googleAdsAccounts",[...t,{accountId:e,accountName:s}]):v("googleAdsAccounts",t.filter(s=>s.accountId!==e))},[d.googleAdsAccounts,v]);return(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsxs)(h.ZB,{className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"h-5 w-5 mr-2"}),"关联配置创建"]})}),(0,t.jsxs)(h.Wu,{className:"space-y-6",children:[i.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"已创建的配置"}),(0,t.jsx)("div",{className:"space-y-2",children:null==i||null==(s=i.filter(Boolean))?void 0:s.map(e=>{var s;return(0,t.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["环境: ",(null==(s=u.find(s=>s.id===e.environmentId))?void 0:s.name)||e.environmentId]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:["链接数: ",e.originalLinks.length," | 账户数: ",e.googleAdsAccounts.length]}),(0,t.jsx)(p.E,{variant:"active"===e.status?"default":"secondary",className:"mt-2",children:"active"===e.status?"活跃":"暂停"})]},e.id)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"创建新的执行配置"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["配置名称（Configuration Name）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"自定义的执行配置标识名称"})]}),(0,t.jsx)("input",{type:"text",value:d.name||"",onChange:e=>v("name",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"我的自动化配置"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["配置描述（Description）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"配置的详细说明和用途"})]}),(0,t.jsx)("textarea",{value:d.description||"",onChange:e=>v("description",e.target.value),className:"w-full px-3 py-2 border rounded-md",rows:3,placeholder:"配置描述和用途说明"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["执行环境（Execution Environment）*",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"选择用于自动化执行的AdsPower环境"})]}),(0,t.jsxs)("select",{value:d.environmentId||"",onChange:e=>v("environmentId",e.target.value),className:"w-full px-3 py-2 border rounded-md",children:[(0,t.jsx)("option",{value:"",children:"选择环境"}),null==u||null==(a=u.filter(Boolean))?void 0:a.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.name," (",e.environmentId,")"]},e.id))]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["重复次数（Repeat Count）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"每个链接的重复执行次数（1-10次）"})]}),(0,t.jsx)("input",{type:"number",min:"1",max:"10",value:d.repeatCount||1,onChange:e=>v("repeatCount",parseInt(e.target.value)||1),className:"w-full px-3 py-2 border rounded-md"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["通知邮箱（Notification Email）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"执行结果通知的邮箱地址（可选）"})]}),(0,t.jsx)("input",{type:"email",value:d.notificationEmail||"",onChange:e=>v("notificationEmail",e.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"your@email.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["联盟链接选择（Affiliate Links）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"选择需要自动更新的广告联盟链接"})]}),(0,t.jsx)("div",{className:"space-y-2",children:null==x||null==(n=x.filter(Boolean))?void 0:n.map(e=>{var s;return(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:(null==(s=d.originalLinks)?void 0:s.includes(e.id))||!1,onChange:s=>N(e.id,s.target.checked),className:"rounded"}),(0,t.jsx)("span",{className:"text-sm",children:e.name})]},e.id)})})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium mb-2",children:["Google Ads账户（Google Ads Accounts）",(0,t.jsx)("br",{}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"选择用于链接更新的Google Ads账户"})]}),(0,t.jsx)("div",{className:"space-y-2",children:null==m||null==(r=m.filter(Boolean))?void 0:r.map(e=>{var s;return(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:(null==(s=d.googleAdsAccounts)?void 0:s.some(s=>s.accountId===e.id))||!1,onChange:s=>b(e.id,e.name,s.target.checked),className:"rounded"}),(0,t.jsx)("span",{className:"text-sm",children:e.name})]},e.id)})})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)(c.$,{onClick:g,disabled:o||!d.name||!d.environmentId||0===m.length||0===x.length||0===u.length,className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"h-4 w-4 mr-2"}),o?"创建中...":"创建配置"]})})]}),i.length>0&&(0,t.jsx)("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-blue-900",children:"配置已创建"}),(0,t.jsx)("p",{className:"text-sm text-blue-700",children:"您可以前往配置管理页面进行详细设置和执行"})]}),(0,t.jsx)(c.$,{onClick:()=>{window.location.href="/adscenter/configurations"},variant:"outline",className:"text-blue-700 border-blue-300 hover:bg-blue-50",children:"前往配置管理"})]})})]})]})});D.displayName="ConfigurationStep";var P=a(33020);let T=(0,l.memo)(()=>(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsxs)(h.ZB,{className:"flex items-center",children:[(0,t.jsx)(P.A,{className:"h-5 w-5 mr-2"}),"自动化任务设置"]})}),(0,t.jsx)(h.Wu,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(P.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"自动化任务配置"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"配置定时任务或手动执行任务，自动更新Google Ads链接"}),(0,t.jsxs)(c.$,{onClick:()=>{window.location.href="/adscenter/scheduling"},className:"flex items-center mx-auto",children:[(0,t.jsx)(P.A,{className:"h-4 w-4 mr-2"}),"前往任务调度页面"]})]})})]}));T.displayName="AutomationStep";var $=a(27047),B=a(48474);let Z=(0,l.memo)(e=>{let{loading:s,configurations:a,onRunSystemVerification:l,onRunTestExecution:n}=e;return(0,t.jsxs)(h.Zp,{children:[(0,t.jsx)(h.aR,{children:(0,t.jsxs)(h.ZB,{className:"flex items-center",children:[(0,t.jsx)($.A,{className:"h-5 w-5 mr-2"}),"系统验证测试"]})}),(0,t.jsx)(h.Wu,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)($.A,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium mb-2",children:"系统验证"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"验证所有配置是否正确，确保系统可以正常运行"}),(0,t.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,t.jsxs)(c.$,{onClick:l,disabled:s,className:"flex items-center",children:[(0,t.jsx)(C.A,{className:"h-4 w-4 mr-2"}),s?"验证中...":"运行系统验证"]}),(0,t.jsxs)(c.$,{onClick:n,disabled:s||0===a.length,variant:"outline",className:"flex items-center",children:[(0,t.jsx)(B.A,{className:"h-4 w-4 mr-2"}),s?"测试中...":"执行测试运行"]})]})]})})]})});Z.displayName="VerificationStep";var G=a(8039);function _(){let[e,s]=(0,l.useState)(0),[a,n]=(0,l.useState)(!1),[h,p]=(0,l.useState)(!1),[j,v]=(0,l.useState)(!1),[f,y]=(0,l.useState)("idle"),w=(0,l.useRef)(null),A=(0,l.useRef)(!0),[C,S]=(0,l.useState)([]),[E,P]=(0,l.useState)([]),[$,B]=(0,l.useState)([]),[_,K]=(0,l.useState)([]),[U,O]=(0,l.useState)({name:"",customerId:"",clientId:"",clientSecret:"",developerToken:"",refreshToken:"",loginCustomerId:""}),[q,z]=(0,l.useState)({name:"",affiliateUrl:"",description:"",category:""}),[M,W]=(0,l.useState)({name:"",environmentId:"",apiEndpoint:"http://local.adspower.net:50325",apiKey:""}),[F,H]=(0,l.useState)({name:"",description:"",environmentId:"",repeatCount:1,notificationEmail:"",originalLinks:[],googleAdsAccounts:[],adMappingConfig:[]}),J=[{id:"google-ads",title:"Google Ads账号配置",description:"配置Google Ads API访问凭据，获取广告数据",status:C.length>0?"completed":"pending",required:!0},{id:"affiliate-links",title:"广告联盟链接配置",description:"添加需要处理的广告联盟链接",status:E.length>0?"completed":"pending",required:!0},{id:"adspower-env",title:"AdsPower环境配置",description:"配置AdsPower浏览器环境，支持链接访问",status:$.length>0?"completed":"pending",required:!0},{id:"configurations",title:"执行配置创建",description:"创建自动化执行配置，整合所有组件",status:_.length>0?"completed":"pending",required:!0},{id:"automation",title:"自动化任务设置",description:"配置定时或手动执行任务",status:"pending",required:!1},{id:"verification",title:"系统验证测试",description:"验证整个系统配置是否正确",status:"pending",required:!0}];J.filter(e=>"completed"===e.status).length,J.filter(e=>e.required).length,J.filter(e=>e.required&&"completed"===e.status).length,(0,l.useEffect)(()=>(ea(),Y(),()=>{A.current=!1,w.current&&clearTimeout(w.current)}),[]);let V=(0,l.useCallback)(()=>{e<J.length-1&&s(e+1)},[e,J.length]),Q=(0,l.useCallback)(()=>{e>0&&s(e-1)},[e]),X=(0,l.useCallback)(a=>{if(a.altKey&&"ArrowLeft"===a.key)a.preventDefault(),e>0&&Q();else if(a.altKey&&"ArrowRight"===a.key)a.preventDefault(),e<J.length-1&&V();else if(a.key>="1"&&a.key<="6"){let e=parseInt(a.key)-1;e<J.length&&(a.preventDefault(),s(e))}else"Home"===a.key?(a.preventDefault(),s(0)):"End"===a.key&&(a.preventDefault(),s(J.length-1))},[e,J.length,Q,V]);(0,l.useEffect)(()=>(window.addEventListener("keydown",X),()=>{window.removeEventListener("keydown",X)}),[X]);let Y=async()=>{try{let e=await G.L.get("/adscenter/setup/progress"),a=(null==e?void 0:e.data)||e;a&&"number"==typeof a.currentStep&&s(a.currentStep),localStorage.setItem("adscenter_setup_progress",JSON.stringify(a||{})),console.log("Setup progress loaded")}catch(e){try{let e=localStorage.getItem("adscenter_setup_progress");if(e){let a=JSON.parse(e);"number"==typeof a.currentStep&&s(a.currentStep)}}catch(e){}console.error("Failed to load saved progress:",e)}},ee=(0,l.useCallback)(()=>{w.current&&clearTimeout(w.current),y("saving"),w.current=setTimeout(async()=>{try{var s;let a={currentStep:e,setupSteps:null==J||null==(s=J.filter(Boolean))?void 0:s.map(e=>({...e,status:"google-ads"===e.id&&C.length>0||"affiliate-links"===e.id&&E.length>0||"adspower-env"===e.id&&$.length>0||"configurations"===e.id&&_.length>0?"completed":e.status})),formData:{googleAdsAccounts:C,affiliateLinks:E,adsPowerEnvironments:$,configurations:_}};try{await G.L.post("/adscenter/setup/progress",a)}catch(e){}localStorage.setItem("adscenter_setup_progress",JSON.stringify(a)),A.current&&(y("saved"),console.log("✅ Setup progress auto-saved"),setTimeout(()=>{A.current&&y("idle")},2e3))}catch(e){console.error("Auto-save failed:",e),A.current&&y("error")}},1e3)},[e,J,C,E,$,_]);(0,l.useEffect)(()=>{ee()},[e,C.length,E.length,$.length,_.length]);let es=(0,l.useCallback)(async()=>{y("saving");try{var s;let a=await G.L.post("/adscenter/setup/progress",{action:"save",currentStep:e,setupSteps:null==J||null==(s=J.filter(Boolean))?void 0:s.map(e=>({...e,status:"google-ads"===e.id&&C.length>0||"affiliate-links"===e.id&&E.length>0||"adspower-env"===e.id&&$.length>0||"configurations"===e.id&&_.length>0?"completed":e.status})),formData:{googleAdsAccounts:C,affiliateLinks:E,adsPowerEnvironments:$,configurations:_}});a.success?(y("saved"),i.oR.success("进度已保存"),setTimeout(()=>{A.current&&y("idle")},2e3)):(y("error"),i.oR.error("保存失败: "+(a.error||"未知错误")))}catch(e){console.error("Manual save failed:",e),y("error"),i.oR.error("保存失败: 网络错误")}},[e,J,C,E,$,_]),ea=async()=>{n(!0);try{let e=await G.L.get("/adscenter/accounts"),s=(Array.isArray(e)?e:(null==e?void 0:e.data)||[]).map((e,s)=>({id:e.accountId||"acc_".concat(s),name:e.accountName||e.name||"",customerId:e.accountId||"",clientId:"",clientSecret:"",developerToken:"",refreshToken:"",loginCustomerId:"",isActive:!0,status:"disconnected"}));S(s);let a=localStorage.getItem("adscenter_setup_extras");if(a){let e=JSON.parse(a);P(e.affiliateLinks||[]),B(e.adsPowerEnvironments||[])}let t=await G.L.get("/adscenter/configurations"),l=(Array.isArray(t)?t:(null==t?void 0:t.data)||[]).map(e=>{var s,a,t,l,n,r;return{id:e.id,name:e.name,description:e.description||"",environmentId:(null==(s=e.payload)?void 0:s.environmentId)||"",repeatCount:(null==(a=e.payload)?void 0:a.repeatCount)||1,notificationEmail:(null==(t=e.payload)?void 0:t.notificationEmail)||"",originalLinks:(null==(l=e.payload)?void 0:l.originalLinks)||[],googleAdsAccounts:(null==(n=e.payload)?void 0:n.googleAdsAccounts)||[],adMappingConfig:(null==(r=e.payload)?void 0:r.adMappingConfig)||[],status:e.status||"active",createdAt:e.createdAt||new Date().toISOString(),updatedAt:e.updatedAt||e.createdAt||new Date().toISOString()}});K(l)}catch(e){console.error("加载配置失败:",e)}finally{n(!1)}},et=async()=>{if(!U.name||!U.customerId)return void i.oR.error("请填写必要的账号信息");n(!0);try{let e=await G.L.post("/adscenter/accounts",{accountId:U.customerId,accountName:U.name});(null==e?void 0:e.success)===!1?i.oR.error("添加失败: "+((null==e?void 0:e.error)||"未知错误")):(S(e=>[...e,{id:U.customerId,name:U.name,customerId:U.customerId,clientId:U.clientId||"",clientSecret:U.clientSecret||"",developerToken:U.developerToken||"",refreshToken:U.refreshToken||"",loginCustomerId:U.loginCustomerId||"",isActive:!0,status:"disconnected"}]),O({name:"",customerId:"",clientId:"",clientSecret:"",developerToken:"",refreshToken:"",loginCustomerId:""}),i.oR.success("Google Ads账号添加成功！"))}catch(e){console.error("添加Google Ads账号失败:",e),i.oR.error("添加失败")}finally{n(!1)}},el=async e=>{S(s=>null==s?void 0:s.map(s=>s.id===e?{...s,status:"connected"}:s)),i.oR.success("连接测试成功！")},en=async()=>{if(!q.name||!q.affiliateUrl)return void i.oR.error("请填写链接名称和URL");try{let e=await G.L.post("/adscenter/affiliate-links",{name:q.name,affiliateUrl:q.affiliateUrl,description:q.description,category:q.category});if((null==e?void 0:e.success)===!1)return void i.oR.error("添加失败");await ea(),z({name:"",affiliateUrl:"",description:"",category:""}),i.oR.success("广告联盟链接添加成功！")}catch(e){i.oR.error("添加失败")}},er=async e=>{try{var s;let a=await G.L.post("/adscenter/affiliate-links/".concat(e,"/test"),{}),t=(null==a||null==(s=a.data)?void 0:s.status)||"valid";P(s=>s.map(s=>s.id===e?{...s,status:t}:s)),i.oR.success("链接测试成功！")}catch(e){i.oR.error("链接测试失败")}},ei=async()=>{if(!M.name||!M.environmentId)return void i.oR.error("请填写环境名称和环境ID");try{let e=await G.L.post("/adscenter/adspower/envs",{name:M.name,environmentId:M.environmentId,apiEndpoint:M.apiEndpoint,apiKey:M.apiKey});if((null==e?void 0:e.success)===!1)return void i.oR.error("添加失败");await ea(),W({name:"",environmentId:"",apiEndpoint:"http://local.adspower.net:50325",apiKey:""}),i.oR.success("AdsPower环境添加成功！")}catch(e){i.oR.error("添加失败")}},ec=async e=>{try{await G.L.post("/adscenter/adspower/envs/".concat(e,"/test"),{}),B(s=>s.map(s=>s.id===e?{...s,status:"connected"}:s)),i.oR.success("AdsPower连接测试成功！")}catch(e){i.oR.error("连接测试失败")}},ed=async()=>{if(!F.name||!F.environmentId)return void i.oR.error("请填写配置名称和环境ID");n(!0);try{let e={environmentId:F.environmentId,repeatCount:F.repeatCount||1,notificationEmail:F.notificationEmail||"",originalLinks:F.originalLinks||[],googleAdsAccounts:F.googleAdsAccounts||[],adMappingConfig:(F.originalLinks||[]).map(e=>({originalUrl:e,adMappings:[]}))},s=await G.L.post("/adscenter/configurations",{name:F.name,description:F.description||"",payload:e});(null==s?void 0:s.success)===!1?i.oR.error("创建失败: "+((null==s?void 0:s.error)||"未知错误")):(await ea(),H({name:"",description:"",environmentId:"",repeatCount:1,notificationEmail:"",originalLinks:[],googleAdsAccounts:[],adMappingConfig:[]}),i.oR.success("配置创建成功！"))}catch(e){console.error("创建配置失败:",e),i.oR.error("操作失败，请稍后重试")}finally{n(!1)}},eo=async()=>{(_||[]).length>0?i.oR.success("系统验证通过！所有配置正常。"):i.oR.error("系统验证失败：请先创建至少一个配置")},em=async()=>{if(0===_.length)return void i.oR.error("请先创建执行配置");n(!0);try{let e=await G.L.post("/adscenter/executions",{configurationId:_[0].id});(null==e?void 0:e.success)===!1?i.oR.error("测试执行失败: "+((null==e?void 0:e.error)||"未知错误")):i.oR.success("测试执行成功！系统运行正常。")}catch(e){console.error("测试执行失败:",e),i.oR.error("测试执行失败，请稍后重试")}finally{n(!1)}},ex=(0,l.useCallback)(e=>{O(e)},[]),eu=(0,l.useCallback)(e=>{z(e)},[]),eh=(0,l.useCallback)(e=>{W(e)},[]),ep=(0,l.useCallback)(e=>{H(e)},[]);return(0,l.useCallback)(e=>{switch(e.status){case"completed":return(0,t.jsx)(d.A,{className:"h-5 w-5 text-green-500"});case"error":return(0,t.jsx)(o.A,{className:"h-5 w-5 text-red-500"});case"in-progress":return(0,t.jsx)(m.A,{className:"h-5 w-5 text-blue-500 animate-spin"});default:return(0,t.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-gray-300"})}},[]),(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold flex items-center",children:[(0,t.jsx)(x.A,{className:"h-8 w-8 mr-3"}),"系统设置向导"]}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"完成系统配置，确保生产环境正常运行"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(r(),{href:"/adscenter/setup/configinfo",target:"_blank",className:"text-blue-600 hover:text-blue-800 flex items-center gap-1 text-sm",children:[(0,t.jsx)(u.A,{className:"h-4 w-4"}),"查看配置文档"]}),(0,t.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:["saving"===f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.A,{className:"h-3 w-3 animate-spin"}),(0,t.jsx)("span",{children:"保存中..."})]}),"saved"===f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.A,{className:"h-3 w-3 text-green-500"}),(0,t.jsx)("span",{className:"text-green-600",children:"已保存"})]}),"error"===f&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.A,{className:"h-3 w-3 text-red-500"}),(0,t.jsx)("span",{className:"text-red-600",children:"保存失败"})]})]}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",onClick:es,disabled:"saving"===f,className:"text-gray-600 hover:text-gray-800","aria-label":"手动保存进度",children:(0,t.jsx)("span",{className:"text-xs",children:"保存进度"})}),(0,t.jsx)(c.$,{variant:"ghost",size:"sm",onClick:()=>v(!j),className:"text-gray-600 hover:text-gray-800","aria-label":"显示键盘快捷键帮助",children:(0,t.jsx)("span",{className:"text-xs",children:"快捷键"})})]})]})}),(0,t.jsx)(g,{setupSteps:J,currentStep:e,onStepClick:s}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2",children:[0===e&&(0,t.jsx)(I,{accounts:C,newAccount:U,loading:a,onAccountChange:ex,onAddAccount:et,onTestConnection:el}),1===e&&(0,t.jsx)(R,{links:E,newLink:q,loading:a,onLinkChange:eu,onAddLink:en,onTestLink:er}),2===e&&(0,t.jsx)(L,{environments:$,newEnvironment:M,loading:a,onEnvironmentChange:eh,onAddEnvironment:ei,onTestConnection:ec}),3===e&&(0,t.jsx)(D,{configurations:_,newConfiguration:F,loading:a,googleAdsAccounts:C,affiliateLinks:E,adsPowerEnvironments:$,onConfigurationChange:ep,onCreateConfiguration:ed}),4===e&&(0,t.jsx)(T,{}),5===e&&(0,t.jsx)(Z,{loading:a,configurations:_,onRunSystemVerification:eo,onRunTestExecution:em})]}),(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(N,{setupSteps:J,currentStep:e,googleAdsAccounts:C,affiliateLinks:E,adsPowerEnvironments:$,configurations:_})})]}),(0,t.jsx)(k,{currentStep:e,totalSteps:J.length,onPrev:Q,onNext:V}),(0,t.jsx)(b,{isOpen:j,onClose:()=>v(!1)})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[2076,4121,7358],()=>s(27623)),_N_E=e.O()}]);